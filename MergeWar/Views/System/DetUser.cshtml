@{
    ViewBag.Title = "用户详细";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using HCZZ.ModeDB;
@using HCZZ.Common;
@using HCZZ.DAL;
@using Webdiyer.WebControls.Mvc;
<link href="@Url.Content("~/Content/css/index.css")" rel="stylesheet" type="text/css" />
<link href="~/Content/css/XTGL_YHGLXXXX.css" rel="stylesheet" />
<link href="~/Content/css/publicHeader.css" rel="stylesheet" />
<link href="~/Content/css/page.css" rel="stylesheet" />
<style type="text/css">
    .contentbody .contentInfo table {
        color: #b1b1b1;
        width: 1250px;
        border: 1px solid #2a393a;
        margin: 0 auto;
        background-color: #21222f;
    }

        .contentbody .contentInfo table tr {
            height: 40px;
        }

            .contentbody .contentInfo table tr:nth-child(even) {
                background-color: #21202E;
            }

            .contentbody .contentInfo table tr:nth-child(odd) {
                background-color: #21222F;
            }

            .contentbody .contentInfo table tr th {
                text-align: left;
                padding-left: 50px;
                background-color: #1E1F2D;
                border-bottom: 1px solid #2A393A;
            }

            .contentbody .contentInfo table tr td {
                border-right: 1px solid #2A393A;
                padding-left: 50px;
            }

                .contentbody .contentInfo table tr td .spanTitle {
                    color: #999999;
                }

                .contentbody .contentInfo table tr td .spanText {
                    color: #CCCCCC;
                }

        .contentbody .contentInfo table:nth-child(1) {
            margin-top: 20px;
        }

        .contentbody .contentInfo table:nth-child(2) {
            margin-bottom: 50px;
            border-top: none;
        }
</style>
@{
    UserInfo user = (UserInfo)ViewBag.user;

}
@*<table>
        <tr>
            <th colspan="4">
                <h1>
                    用户详细信息</h1>
            </th>
        </tr>
    </table>
    <div>
        <table>
            @{
        UserInfo user = (UserInfo)ViewBag.user;
        if (user != null)
        {
            AreaInfo area = new AreaInfo();
            PoliceInfo pl = new PoliceInfo();
            PoliceDAL pdal = new PoliceDAL();
            if (user.Type == 6)
            {
                area = pdal.GetAreaInfoById(user.ProID, 2);
            }
            else if (user.Type == 4)
            {
                area = pdal.GetAreaInfoById(user.CityID, 1);
            }
            else if (user.Type == 2 || user.Type == 3)
            {
                area = pdal.GetAreaInfoById(user.AId, 0);
                pl = pdal.GetPoliceInfo("", user.PId);
            }

                <tr>
                    <td width="15%" align="right">
                        用户名：
                    </td>
                    <td>@user.UserName
                    </td>
                    <td width="15%" align="right">
                        真实姓名：
                    </td>
                    <td>@user.TrueName
                    </td>
                </tr>
                <tr>
                    <td align="right">
                        手机号码：
                    </td>
                    <td>@user.Mobile
                    </td>
                    <td align="right">
                        Email：
                    </td>
                    <td>@user.Email
                    </td>
                </tr>
                <tr>
                    <td align="right">
                        所属区域：
                    </td>
                    <td colspan="3">
                        @if (user.Type != 1 && user.Type != 7)
                        {
                            @area.PName　@area.CName　@area.Area　@(pl != null ? pl.Name : "")
                        }
                    </td>
                </tr>
                <tr>
                    <td align="right">
                        证件类型：
                    </td>
                    <td>@ChangeValue.RefIdType(user.idType)
                    </td>
                    <td align="right">
                        证件号码：
                    </td>
                    <td>@user.idNumber
                    </td>
                </tr>
                <tr>
                    <td align="right">
                        用户类型：
                    </td>
                    <td>@ChangeValue.RefUseTypeValue(user.Type)
                    </td>
                    <td align="right">
                        创建时间：
                    </td>
                    <td>@(user.CreateTime.ToString("yyyy-MM-dd") == "0001-01-01" ? "N/A" : user.CreateTime.ToString("yyyy-MM-dd HH:mm:ss"))</td>
                </tr>
                <tr>
                    <td align="right">
                        是否可查看系统日志：
                    </td>
                    <td colspan="3">@ChangeValue.RefIsLogType(user.isLog)</td>
                </tr>
        }
            }
        </table>
    </div>*@
<div class="contentbody">
    @if (user != null)
    {
        AreaInfo area = new AreaInfo();
        PoliceInfo pl = new PoliceInfo();
        PoliceDAL pdal = new PoliceDAL();
        <div class="contentInfo">
            <table cellspacing="0" cellpadding="0" border="0">
                @if (user.Type == 6)
                {
                    area = pdal.GetAreaInfoById(user.ProID, 2);
                }
                else if (user.Type == 4)
                {
                    area = pdal.GetAreaInfoById(user.CityID, 1);
                }
                else if (user.Type == 2 || user.Type == 3)
                {
                    area = pdal.GetAreaInfoById(user.AId, 0);
                    pl = pdal.GetPoliceInfo("", user.PId);
                }
                <tbody>
                    <tr><th colspan="3">用户详细信息</th></tr>
                    <tr>
                        <td style="width: 50%;">
                            <span class="spanTitle">用户名:</span>
                            <span class="spanText">@user.UserName</span>
                        </td>
                        <td style="width: 50%;">
                            <span class="spanTitle">真实姓名:</span>
                            <span class="spanText">@user.TrueName</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="spanTitle">手机号码:</span>
                            <span class="spanText">@user.Mobile</span>
                        </td>
                        <td>
                            <span class="spanTitle">Email:</span>
                            <span class="spanText">@user.Email</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="spanTitle">证件类型:</span>
                            <span class="spanText">@ChangeValue.RefIdType(user.idType)</span>
                        </td>
                        <td>
                            <span class="spanTitle">证件号码:</span>
                            <span class="spanText">@user.idNumber</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="spanTitle">创建时间:</span>
                            <span class="spanText">@(user.CreateTime.ToString("yyyy-MM-dd") == "0001-01-01" ? "N/A" : user.CreateTime.ToString("yyyy-MM-dd HH:mm:ss"))</span>
                        </td>
                        <td>
                            <span class="spanTitle">用户类型:</span>
                            <span class="spanText">@ChangeValue.RefUseTypeValue(user.Type)</span>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table cellspacing="0" cellpadding="0" border="0">
                <tbody>
                    @if (user.Type != 1 && user.Type != 4 && user.Type != 7 && user.Type != 8)
                    {
                        <tr>
                            <td>
                                <span class="spanTitle">所属区域:</span>
                                <span class="spanText">
                                    @if (user.Type != 1 && user.Type != 7)
                                    {
                                        @area.PName　@area.CName　@area.Area　@(pl != null ? pl.Name : "")
                                    }
                                </span>
                            </td>
                        </tr>
                    }
                    
            </tbody>
        </table>
    </div>
    }
</div>